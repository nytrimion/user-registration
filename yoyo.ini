# Yoyo Migrations Configuration
# Documentation: https://ollycope.com/software/yoyo/latest/

[DEFAULT]
# Database connection string
# Format: postgresql://user:password@host:port/database
# Uses environment variables with fallback defaults (same as docker-compose.yml)
database = postgresql://%(DATABASE_USER)s:%(DATABASE_PASSWORD)s@%(DATABASE_HOST)s:%(DATABASE_PORT)s/%(DATABASE_NAME)s

# Migration scripts directory
sources = migrations

# Batch mode (non-interactive, useful for CI/CD)
batch_mode = off

# Verbosity level (0=quiet, 1=normal, 2=verbose)
verbosity = 1

[production]
# Override for production environment
batch_mode = on
verbosity = 0

[test]
# Override for test environment (uses same DB as development in our setup)
batch_mode = on